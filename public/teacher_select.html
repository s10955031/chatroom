<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/select.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
    <script>

      // 使用 JavaScript 获取当前网址
      var currentURL = window.location.href;
        
      // 找到 ".app" 的部分并获取其前面的内容
      var endIndex = currentURL.indexOf(".app") + 4; // 找到 ".app" 的索引并加上长度 ".app".length = 4
      var desiredPart = currentURL.substring(0, endIndex) + '/listener2Url';

      var newURL = '';

      fetch(desiredPart)
        .then(response => response.json())
        .then(data => {
            // 從返回的數據中取得 ngrok 的 public_url
            const publicUrl = data.url;
            newURL = publicUrl;
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
        
        function openNewPage() {
          // 使用 window.open() 方法打开新窗口或选项卡
          window.open(newURL, '_blank');
        }
    </script>
  </head>

<body id="home">
  <div class="container-index" align="center">
    <nav>
      <ul>
        <li>
          <buttin onclick="window.location.href='./teacher_research.html'">主題探討
          <span></span><span></span><span></span><span></span>
        </li>
        <li>
          <buttin onclick="window.location.href='./teacher_join.html'">討論室
          <span></span><span></span><span></span><span></span>
        </li>
        <li>
          <buttin onclick="openNewPage ()">問答
          <span></span><span></span><span></span><span></span>
        </li>
        <li>
          <buttin onclick="window.location.href='./teacher_calendar.html'">行事曆
          <span></span><span></span><span></span><span></span>
        </li>
      </ul>
    </nav>
    <a class="button" href="index.html">登出</a>
  </div>

  <!-- <div class="logoout">
    <a class="button" href="index.html">登出</a>
  </div> -->
  
  <div class="pic">
    <img src="img/logo.png">
  </div>

    <script defer src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
    <script src="./database/db.js"></script>
    
</body>

</html>